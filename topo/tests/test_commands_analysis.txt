
# CB: probably should have been a UnitTest, but I needed to learn that
# What's the naming convention for doctest files?

### setup a simulation
>>> from topo.base.simulation import Simulation
>>> from topo.base.cf import CFSheet,CFProjection
>>> from topo.sheets.generatorsheet import GeneratorSheet
>>> sim = Simulation(register=True,name="ABC")
>>> sim['A'] = GeneratorSheet(nominal_density=4)
>>> sim['B'] = CFSheet(nominal_density=4)
>>> c=sim.connect('A','B',connection_type=CFProjection,name='Afferent')

### test save_plotgroup(), update_activity()
>>> Aact="topo/tests/test_commands_analysisABC_000000.00_A_Activity.png"
>>> Bact="topo/tests/test_commands_analysisABC_000000.00_B_Activity.png"

# remove old files, if they exist
>>> from topo.base.parameterclasses import normalize_path,resolve_filename
>>> import os
>>> try: 
...    os.remove(normalize_path(Aact))	      
... except OSError:
...    pass
...
>>> try: 
...    os.remove(normalize_path(Bact))	      
... except OSError:
...    pass
...

>>> from topo.commands.analysis import save_plotgroup,update_activity
>>> save_plotgroup('Activity',saver_params={'filename_prefix':"topo/tests/test_commands_analysis"})
>>> f=resolve_filename("topo/tests/test_commands_analysisABC_000000.00_A_Activity.png")
>>> f=resolve_filename("topo/tests/test_commands_analysisABC_000000.00_B_Activity.png")
